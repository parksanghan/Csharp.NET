<Window 
    xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
    xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
    xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
    xmlns:local="clr-namespace:WpfApp4"
    mc:Ignorable="d"
    xmlns:ViewModel="clr-namespace:WpfApp4.ViewModel" 
  
    xmlns:Model="clr-namespace:WpfApp4.Model"   
    x:Class="WpfApp4.MainWindow"
    Title="MainWindow" Height="450" Width="800" Loaded="Window_Loaded" Closed="Window_Closed">

    <Window.DataContext>
        <ViewModel:Manager/>
    </Window.DataContext>

    <Window.Resources>
        <!--<Model:Books x:Key="books"/>
        <Model:Book x:Key="book"/>-->


        <!--<DataTemplate DataType="{x:Type Model:Books}">-->
            <!--<TextBlock>
            이름:
            <TextBlock Text="{Binding Path=Title}"/>
            전화번호:
            <TextBlock Text="{Binding Path=Publisher}"/>
            나이:
            <TextBlock Text="{Binding Path=Writer}"/>
            성별:
            <TextBlock Text="{Binding Path=Price}"/>
        </TextBlock>
        </DataTemplate>-->
    </Window.Resources>

    <StackPanel Name="panel"  Orientation="Vertical"><!--DataContext="{StaticResource books}" Orientation="Vertical">-->
        <Grid>
            <Grid.DataContext>
                <ViewModel:Manager/>
            </Grid.DataContext>
            <Grid.RowDefinitions>
                <RowDefinition Height="22*"/>
                <RowDefinition Height="195*"/>
            </Grid.RowDefinitions>

            <Label Content="제목" Margin="26,9,740,6"/>
            <TextBox Name="title" Margin="80,13,615,7">
                <TextBox.Text>
                    <Binding Path="Title" NotifyOnValidationError="True"> <!--Source="{StaticResource book}" NotifyOnValidationError="True">-->
                        <Binding.ValidationRules>
                            <Model:StringValidationRule/>
                        </Binding.ValidationRules>
                    </Binding>
                </TextBox.Text>
            </TextBox>

            <Label Content="출판사" Margin="191,9,563,6"/>
            <TextBox Name="publisher" Margin="250,13,435,7">
                <TextBox.Text>
                    <Binding Path="Publisher"  NotifyOnValidationError="True"> <!--Source="{StaticResource book}"-->
                       
                        <Binding.ValidationRules>
                            <!--<Model:StringValidationRule/>-->
                        </Binding.ValidationRules>
                    </Binding>
                </TextBox.Text>
            </TextBox>

            <Label Content="저자" Margin="375,9,391,6"/>
            <TextBox Name="writer" Width="120" Margin="420,13,260,7">
                <TextBox.Text>
                    <Binding Path="Writer" NotifyOnValidationError="True"> <!--Source="{StaticResource book}"--> 
                        <Binding.ValidationRules>
                            <!--<Model:StringValidationRule/>-->
                        </Binding.ValidationRules>
                    </Binding>
                </TextBox.Text>
            </TextBox>

            <Label Content="가격" Margin="550,10,216,5"/>
            <TextBox Name="price" Width="120" Margin="600,14,80,6">
                <TextBox.Text>
                    <Binding Path="Price" Source="{StaticResource book}" NotifyOnValidationError="True">
                        <Binding.ValidationRules>
                            <!--<Model:ShortNumberValidationRule Min="0" Max="100000"/>-->
                        </Binding.ValidationRules>
                    </Binding>
                </TextBox.Text>
            </TextBox>

            <ListBox Name="mylistbox" ItemsSource="{Binding}" Margin="0,3,20,273" 
            IsSynchronizedWithCurrentItem="true" Grid.Row="1"/>

            <StackPanel Margin="105,178,125,193" Grid.Row="1">
                <Button x:Name="insert" Content="생성" Width="200" />
                <!-- Click="insert_Click"-->
                    <Button x:Name="delete" Content="삭제" Width="200" />
                <!-- Click="delete_Click"-->
                    <Button x:Name="update" Content="업데이트" Width="200" />
                <!-- Click="update_Click"-->

                    <Button Name="prev" Content="이전" Width="200" Grid.Row="1" />
                <!-- Click="prev_Click"-->
                    <Button x:Name="next" Content="다음" Width="200" Grid.Row="1" />
                <!-- Click="next_Click"-->
            </StackPanel>
        </Grid>
    </StackPanel>

</Window>