<Window x:Class="_231108_도서관리프로그램.MainWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
        xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
        xmlns:local="clr-namespace:_231108_도서관리프로그램"
        mc:Ignorable="d"
        Title="MainWindow" Height="450" Width="800">
    <!--데이터 아일랜드-->
    <Window.Resources>
        <local:BookList x:Key="booklist" />
        <local:Book  x:Key="book" Title="테스트" Price="10" Author="테스트" Publisher="테스트"/>
    </Window.Resources>
    <StackPanel Name="panel" DataContext="{StaticResource booklist}">
        <!--첫번째 라인-->
        <Grid ClipToBounds="False">
            <Grid.ColumnDefinitions>
                <ColumnDefinition/>
                <ColumnDefinition/>
                <ColumnDefinition/>
                <ColumnDefinition/>
            </Grid.ColumnDefinitions>
            
            <StackPanel Grid.Column="0" Margin="5" Orientation="Horizontal">
                <Label >제목(_T):</Label>
                <TextBox Name="title" Width="120">
                    <TextBox.Text>
                        <Binding Path="Title" Source="{StaticResource book}" NotifyOnValidationError="True">
                            <Binding.ValidationRules>
                                <local:StringValidationRule/>
                            </Binding.ValidationRules>
                        </Binding>
                    </TextBox.Text>
                </TextBox>
            </StackPanel>
            
            <StackPanel Grid.Column="1" Margin="5" Orientation="Horizontal">
                <Label >가격(_P):</Label>
                <TextBox Name="price" Width="120">
                    <TextBox.Text>
                        <Binding Path="Price" Source="{StaticResource book}" NotifyOnValidationError="True">
                            <Binding.ValidationRules>
                                <local:IntValidationRule />
                            </Binding.ValidationRules>
                        </Binding>
                    </TextBox.Text>
                </TextBox>
            </StackPanel>
            
            <StackPanel Grid.Column="2" Margin="5" Orientation="Horizontal">
                <Label >저자(_A):</Label>
                <TextBox Name="author" Width="120">
                    <TextBox.Text>
                        <Binding Path="Author" Source="{StaticResource book}" NotifyOnValidationError="True">
                            <Binding.ValidationRules>
                                <local:StringValidationRule/>
                            </Binding.ValidationRules>
                        </Binding>
                    </TextBox.Text>
                </TextBox>
            </StackPanel>
            
            <StackPanel Grid.Column="3" Margin="5" Orientation="Horizontal">
                <Label >출판사(_P):</Label>
                <TextBox Name="publisher" Width="120">
                    <TextBox.Text>
                        <Binding Path="Publisher" Source="{StaticResource book}" NotifyOnValidationError="True">
                            <Binding.ValidationRules>
                                <local:StringValidationRule/>
                            </Binding.ValidationRules>
                        </Binding>
                    </TextBox.Text>
                </TextBox>
            </StackPanel>
        </Grid>
        <!--두번째 라인-->
        <Grid >
            <Grid.ColumnDefinitions>
                <ColumnDefinition/>
                <ColumnDefinition/>
                <ColumnDefinition/>
                <ColumnDefinition/>
            </Grid.ColumnDefinitions>
            <Border Grid.Column="0" Margin="2" BorderBrush="Black" BorderThickness="2">
                <Label Height="25" Content="{Binding Path=Title }"/>
            </Border>

            <TextBox Grid.Column="1" Name="price2" Margin="2" BorderBrush="Black" BorderThickness="2">
                <TextBox.Text>
                    <Binding Path="Price" NotifyOnValidationError="True">
                        <Binding.ValidationRules>
                            <local:IntValidationRule />
                        </Binding.ValidationRules>
                    </Binding>
                </TextBox.Text>
            </TextBox>

            <Border Grid.Column="2" Margin="2" BorderBrush="Black" BorderThickness="2">
                <Label Height="25" Content="{Binding Path=Author}"/>
            </Border>

            <Border Grid.Column="3" Margin="2" BorderBrush="Black" BorderThickness="2">
                <Label Height="25" Content="{Binding Path=Publisher}"/>
            </Border>
        </Grid>
        <!--세번째 라인-->
        <Grid >
            <Grid.ColumnDefinitions>
                <ColumnDefinition/>
                <ColumnDefinition/>
            </Grid.ColumnDefinitions>
            <Button Name="insert" Grid.Column="0" Margin="3" Height="30" Content="추가" Click="insert_Click" />
            <Button Name="delete" Grid.Column="1" Margin="3" Height="30" Content="삭제" Click="delete_Click" />
        </Grid>
        <!--네번째 라인-->
        <ListBox Name="listbox" ItemsSource="{Binding}" Height="100" IsSynchronizedWithCurrentItem="True">
            <ListBox.ItemTemplate>
                <DataTemplate DataType="{x:Type local:Book}">
                    <TextBlock>
                          제목 :
                         <TextBlock Text="{Binding Path=Title}" />
                          | 가격 :
                         <TextBlock Text="{Binding Path=Price}" />
                          | 저자 :
                         <TextBlock Text="{Binding Path=Author}" />
                          | 출판사 :
                         <TextBlock Text="{Binding Path=Publisher}" />
                    </TextBlock>
                </DataTemplate>
            </ListBox.ItemTemplate>
        </ListBox>
        <!--네번째 라인-->
    </StackPanel>
</Window>
